<div class="container">
  <br />
  <mat-tab-group mat-align-tabs="center">
    <mat-tab
      *ngIf="namesResponse.includes('cluster_dbscan')"
      label="Dbscan Analysis"
    >
    <div
    class=""
    style="width: 100%; display: flex; justify-content: flex-end"
  >
    <button
      mat-button
      (click)="downloadCsvFormat(resDbscan$)"
      style="color: #3f51b5"
    >
      <i class="fas fa-file-csv"></i> Download csv
    </button>
    <button
      mat-button
      (click)="downloadJsonFormat(resDbscan$)"
      style="color: #3f51b5"
    >
      <i class="fab fa-js"></i> Download json
    </button>
  </div>
      <div class="analysis-table">
        <table class="table table-striped mt-4">
          <thead>
            <tr>
              <th
                scope="col"
                *ngFor="let header of headersTable_1"
                class="item-table"
                style="text-align: center"
              >
                {{ header }}
              </th>
            </tr>
          </thead>
          <tbody>
            <ng-container
              *ngFor="
                let value of resDbscan$
                  | paginate: { itemsPerPage: 5, currentPage: actualPageDbscan }
              "
            >
              <tr
                *ngIf="value.cluster_dbscan >= 0"
                style="text-align: center; cursor: pointer; cursor: hand"
              >
                <td>{{ value.crop }}</td>
                <td>{{ value.name }}</td>
                <td>{{ value.number }}</td>
                <td>{{ value.cluster_dbscan }}</td>
              </tr>
            </ng-container>
          </tbody>
        </table>
        <pagination-controls (pageChange)="actualPageDbscan = $event">
        </pagination-controls>
      </div>
    </mat-tab>
    <mat-tab
      *ngIf="namesResponse.includes('cluster_hdbscan')"
      label="Hdbscan Analysis">
      <div
      class=""
      style="width: 100%; display: flex; justify-content: flex-end"
    >
      <button
        mat-button
        (click)="downloadCsvFormat(resHdbscan$)"
        style="color: #3f51b5"
      >
        <i class="fas fa-file-csv"></i> Download csv
      </button>
      <button
        mat-button
        (click)="downloadJsonFormat(resHdbscan$)"
        style="color: #3f51b5"
      >
        <i class="fab fa-js"></i> Download json
      </button>
    </div>
    
      <div class="analysis-table">
        <table class="table table-striped mt-4">
          <thead>
            <tr>
              <th
                scope="col"
                *ngFor="let header of headersTable_1"
                class="item-table"
                style="text-align: center"
              >
                {{ header }}
              </th>
            </tr>
          </thead>
          <tbody>
            <ng-container
              *ngFor="
                let value of resHdbscan$
                  | paginate
                    : { itemsPerPage: 5, currentPage: actualPageHdbscan }
              "
            >
              <tr
                *ngIf="value.cluster_hdbscan >= 0"
                style="text-align: center; cursor: pointer; cursor: hand"
              >
                <td>{{ value.crop }}</td>
                <td>{{ value.name }}</td>
                <td>{{ value.number }}</td>
                <td>{{ value.cluster_hdbscan }}</td>
              </tr>
            </ng-container>
          </tbody>
        </table>
        <pagination-controls (pageChange)="actualPageHdbscan = $event">
        </pagination-controls>
      </div>
    </mat-tab>
    <mat-tab
      *ngIf="namesResponse.includes('cluster_aggolmerative')"
      label="Agglomerative Analysis"
    >
    <div
    class=""
    style="width: 100%; display: flex; justify-content: flex-end"
  >
    <button
      mat-button
      (click)="downloadCsvFormat(resAgglomerative$)"
      style="color: #3f51b5"
    >
      <i class="fas fa-file-csv"></i> Download csv
    </button>
    <button
      mat-button
      (click)="downloadJsonFormat(resAgglomerative$)"
      style="color: #3f51b5"
    >
      <i class="fab fa-js"></i> Download json
    </button>
  </div>
      <div class="analysis-table">
        <table class="table table-striped mt-4">
          <thead>
            <tr>
              <th
                scope="col"
                *ngFor="let header of headersTable_1"
                class="item-table"
                style="text-align: center"
              >
                {{ header }}
              </th>
            </tr>
          </thead>
          <tbody>
            <ng-container
              *ngFor="
                let value of resAgglomerative$
                  | paginate
                    : { itemsPerPage: 5, currentPage: actualPageAgglomerative }
              "
            >
              <tr
                *ngIf="value.cluster_aggolmerative >= 0"
                style="text-align: center; cursor: pointer; cursor: hand"
              >
                <td>{{ value.crop }}</td>
                <td>{{ value.name }}</td>
                <td>{{ value.number }}</td>
                <td>{{ value.cluster_aggolmerative }}</td>
              </tr>
            </ng-container>
          </tbody>
        </table>
        <pagination-controls (pageChange)="actualPageAgglomerative = $event">
        </pagination-controls>
      </div>
    </mat-tab>
  </mat-tab-group>

  <!-- 
  <table class="table table-striped mt-4">
    <thead>
      <tr>
        <th
          scope="col"
          *ngFor="let header of headersTable_2"
          class="item-table"
          style="text-align: center"
        >
          {{ header }}
        </th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="
          let value of res$
            | paginate: { itemsPerPage: 5, currentPage: actualPageT1 }
        "
        style="text-align: center; cursor: pointer; cursor: hand"
      >
        <td>{{value.crop.name}}</td>
        <td>{{value.slope}}</td>
        <td>{{value.mean}}</td>
        <td>{{value.sd}}</td>
        <td>{{value.indicator}}</td>
        <td>{{value.cluster}}</td>
      </tr>
    </tbody>
  </table>
  <pagination-controls (pageChange)="actualPageT1 = $event">
  </pagination-controls>

  <hr> -->

  <!--   <div class="row">
    <div id="maps"></div>
    <div id="popups" class="ol-popup">
        <a href="#" id="popup-closers" class="ol-popup-closer"></a>
        <div id="popup-contents"></div>
      </div>
</div> -->
</div>
